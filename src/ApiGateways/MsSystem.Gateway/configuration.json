{
  "GlobalConfiguration": {
    "RequestIdKey": "OcRequestId",
    "AdministrationPath": "/administration",
    "ServiceDiscoveryProvider": {
      "Host": "consul-server-bootstrap",
      "Port": 8500,
      "Type": "Consul"
    }
  },
  "ReRoutes": [
    // identity center
    {
      "DownstreamPathTemplate": "/connect/token",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/connect/token",
      "UpstreamHttpMethod": [ "Post" ],
      "UseServiceDiscovery": true,
      "ServiceName": "identity"
    },
    {
      "DownstreamPathTemplate": "/.well-known/openid-configuration",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/.well-known/openid-configuration",
      "UpstreamHttpMethod": [ "get" ],
      "UseServiceDiscovery": true,
      "ServiceName": "identity"
    },
    //signalr
    {
      "DownstreamPathTemplate": "/{everything}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/hub/oa/{everything}",
      "UpstreamHttpMethod": [],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "oaapi"
    },
    //MsSystem.Sys.API
    {
      "DownstreamPathTemplate": "/api/{controller}/{action}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/api/sys/{controller}/{action}",
      "UpstreamHttpMethod": [ "Get", "Post" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "sysapi"
    },
    {
      "DownstreamPathTemplate": "/MsSystem.Sys.API/swagger.json",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/MsSystem.Sys.API/swagger.json",
      "UpstreamHttpMethod": [ "GET", "POST", "DELETE", "PUT" ],
      "UseServiceDiscovery": true,
      "ServiceName": "sysapi"
    },
    //Weixin API
    {
      "DownstreamPathTemplate": "/api/weixin/{action}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/api/wechat/weixin/{action}", //微信服务器接入
      "UpstreamHttpMethod": [ "Get", "Post" ],
      "UseServiceDiscovery": true,
      "ServiceName": "weixinapi"
    },
    {
      "DownstreamPathTemplate": "/MsSystem.Weixin.API/swagger.json",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/MsSystem.Weixin.API/swagger.json",
      "UpstreamHttpMethod": [ "GET", "POST", "DELETE", "PUT" ],
      "UseServiceDiscovery": true,
      "ServiceName": "weixinapi"
    },
    {
      "DownstreamPathTemplate": "/api/{controller}/{action}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/api/weixin/{controller}/{action}",
      "UpstreamHttpMethod": [ "Get", "Post" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "weixinapi"
    },
    {
      "DownstreamPathTemplate": "/{everything}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/hub/{everything}",
      "UpstreamHttpMethod": [],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "weixinapi"
    },
    //MsSystem WF API
    {
      "DownstreamPathTemplate": "/api/{controller}/{action}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/api/wf/{controller}/{action}",
      "UpstreamHttpMethod": [ "Get", "Post" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "wfapi"
    },
    {
      "DownstreamPathTemplate": "/MsSystem.WF.API/swagger.json",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/MsSystem.WF.API/swagger.json",
      "UpstreamHttpMethod": [ "GET", "POST", "DELETE", "PUT" ],
      "UseServiceDiscovery": true,
      "ServiceName": "wfapi"
    },
    //MsSystem.OA.API
    {
      "DownstreamPathTemplate": "/api/{controller}/{action}",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/api/OA/{controller}/{action}",
      "UpstreamHttpMethod": [ "Get", "Post" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "MsSystem",
        "AllowedScopes": []
      },
      "UseServiceDiscovery": true,
      "ServiceName": "oaapi"
    },
    {
      "DownstreamPathTemplate": "/MsSystem.OA.API/swagger.json",
      "DownstreamScheme": "http",
      "UpstreamPathTemplate": "/MsSystem.OA.API/swagger.json",
      "UpstreamHttpMethod": [ "GET", "POST", "DELETE", "PUT" ],
      "UseServiceDiscovery": true,
      "ServiceName": "oaapi"
    }
  ]
}